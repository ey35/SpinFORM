<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoundVault - Your Music Collection</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="vinyl-loader">
                <div class="vinyl-disc">
                    <div class="vinyl-center"></div>
                    <div class="vinyl-groove"></div>
                    <div class="vinyl-groove"></div>
                    <div class="vinyl-groove"></div>
                </div>
                <div class="vinyl-arm"></div>
            </div>
            <h2 class="loading-text">SoundVault</h2>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
            <p class="loading-subtitle">Initializing your music vault...</p>
        </div>
    </div>

    <!-- Background Elements -->
    <div class="bg-gradient"></div>
    <div class="grid-overlay"></div>
    
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
                    <circle cx="20" cy="20" r="18" stroke="url(#gradient)" stroke-width="2"/>
                    <circle cx="20" cy="20" r="6" fill="url(#gradient)"/>
                    <path d="M20 2 L20 14" stroke="url(#gradient)" stroke-width="2"/>
                    <defs>
                        <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#FF006E"/>
                            <stop offset="100%" style="stop-color:#8338EC"/>
                        </linearGradient>
                    </defs>
                </svg>
                <h1>SoundVault</h1>
            </div>
            <nav class="nav">
                <button class="nav-btn active" data-view="library">
                    <span class="icon">üéµ</span>
                    Library
                </button>
                <button class="nav-btn" data-view="upload">
                    <span class="icon">‚¨ÜÔ∏è</span>
                    Upload
                </button>
                <button class="nav-btn" data-view="shared">
                    <span class="icon">üîó</span>
                    Shared
                </button>
                <button class="nav-btn" data-view="discover">
                    <span class="icon">ü§ñ</span>
                    AI Discover
                </button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Library View -->
            <section id="library-view" class="view active">
                <div class="view-header">
                    <h2 class="section-title">Your Collection</h2>
                    <div class="controls">
                        <input type="text" id="search-input" class="search-input" placeholder="Search tracks...">
                        <select id="sort-select" class="sort-select">
                            <option value="recent">Recently Added</option>
                            <option value="name">Track Name</option>
                            <option value="artist">Artist</option>
                        </select>
                    </div>
                </div>
                
                <div id="music-grid" class="music-grid">
                    <!-- Music items will be dynamically inserted here -->
                </div>
                
                <div id="empty-state" class="empty-state">
                    <div class="empty-icon">üéß</div>
                    <h3>Your vault is empty</h3>
                    <p>Upload your first track to get started</p>
                    <button class="btn-primary" onclick="switchView('upload')">Upload Music</button>
                </div>
            </section>

            <!-- Upload View -->
            <section id="upload-view" class="view">
                <div class="view-header">
                    <h2 class="section-title">Upload Music</h2>
                </div>
                
                <div class="upload-container">
                    <div class="upload-zone" id="upload-zone">
                        <input type="file" id="file-input" accept="audio/*" multiple hidden>
                        <div class="upload-content">
                            <div class="upload-icon">
                                <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
                                    <path d="M40 10 L40 50 M20 30 L40 10 L60 30" stroke="url(#gradient2)" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M15 50 L15 65 C15 67.7614 17.2386 70 20 70 L60 70 C62.7614 70 65 67.7614 65 65 L65 50" stroke="url(#gradient2)" stroke-width="4" stroke-linecap="round"/>
                                    <defs>
                                        <linearGradient id="gradient2" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" style="stop-color:#FF006E"/>
                                            <stop offset="100%" style="stop-color:#8338EC"/>
                                        </linearGradient>
                                    </defs>
                                </svg>
                            </div>
                            <h3>Drop your music files here</h3>
                            <p>or click to browse</p>
                            <span class="supported-formats">Supports MP3, WAV, OGG, M4A</span>
                        </div>
                    </div>
                    
                    <div id="upload-queue" class="upload-queue"></div>
                </div>
            </section>

            <!-- Shared View -->
            <section id="shared-view" class="view">
                <div class="view-header">
                    <h2 class="section-title">Shared With You</h2>
                </div>
                
                <div id="shared-grid" class="music-grid">
                    <!-- Shared music items will be dynamically inserted here -->
                </div>
                
                <div id="shared-empty-state" class="empty-state">
                    <div class="empty-icon">üîó</div>
                    <h3>No shared tracks yet</h3>
                    <p>When someone shares music with you, it will appear here</p>
                </div>
            </section>

            <!-- AI Recommendations View -->
            <section id="discover-view" class="view">
                <div class="view-header">
                    <h2 class="section-title">AI Discovery</h2>
                </div>
                
                <div class="ai-container">
                    <div class="ai-prompt-box">
                        <h3>ü§ñ Ask AI for Music Recommendations</h3>
                        <textarea id="ai-prompt" placeholder="E.g., 'Find me upbeat electronic tracks perfect for coding' or 'Suggest chill ambient music for relaxation'..." rows="3"></textarea>
                        <button class="btn-primary" onclick="getAIRecommendations()">Generate Recommendations</button>
                    </div>
                    
                    <div id="ai-results" class="ai-results"></div>
                </div>
            </section>
        </div>
    </main>

    <!-- Player -->
    <div id="player" class="player hidden">
        <div class="player-content">
            <div class="player-info">
                <div class="album-art">
                    <div class="vinyl-spin"></div>
                </div>
                <div class="track-info">
                    <div class="track-name" id="player-track-name">Track Name</div>
                    <div class="track-artist" id="player-track-artist">Artist Name</div>
                </div>
            </div>
            
            <div class="player-controls">
                <button class="player-btn" id="prev-btn">‚èÆ</button>
                <button class="player-btn play-btn" id="play-btn">‚ñ∂Ô∏è</button>
                <button class="player-btn" id="next-btn">‚è≠</button>
                <button class="player-btn" id="shuffle-btn" title="Shuffle">üîÄ</button>
                <button class="player-btn" id="repeat-btn" title="Repeat">üîÅ</button>
            </div>
            
            <!-- Audio Visualizer -->
            <div class="visualizer-container">
                <canvas id="visualizer" width="800" height="60"></canvas>
            </div>
            
            <div class="player-progress">
                <span class="time" id="current-time">0:00</span>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                    <input type="range" class="progress-slider" id="progress-slider" min="0" max="100" value="0">
                </div>
                <span class="time" id="duration-time">0:00</span>
            </div>
            
            <div class="player-volume">
                <button class="player-btn volume-btn" id="volume-btn">üîä</button>
                <input type="range" class="volume-slider" id="volume-slider" min="0" max="100" value="80">
            </div>
        </div>
        <audio id="audio-player"></audio>
    </div>

    <!-- Modal for Sharing -->
    <div id="share-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Share Track</h3>
                <button class="close-btn" onclick="closeShareModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p class="modal-description">Generate a shareable link for this track</p>
                <div class="share-link-container">
                    <input type="text" id="share-link" class="share-link-input" readonly>
                    <button class="btn-copy" id="copy-btn">Copy</button>
                </div>
                <div class="share-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="allow-download">
                        <span>Allow downloads</span>
                    </label>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <script src="script.js"></script>
</body>
</html>
